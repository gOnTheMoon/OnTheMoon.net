<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>1. The notification server - On the moon</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="זלינגר"><meta name=description content="So, we&amp;rsquo;re about to begin this journey. Before discussing how to implement a notification server, I should probably explain first what we are trying to build. That is what is a notification server?
Everyone has their own viewpoint on this, and here I will describe my own. A notification server is a box which consists of components which are linked to each other. It could be thought of as an engine, where each component is thought as a gear in the engine&amp;rsquo;s gearbox."><meta name=generator content="Hugo 0.71.1 with theme even"><link rel=canonical href=http://onthemoon.net/post/2020-07-11/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.8c3cbcb0324c2bb4875ceccba4007cbad4b4ac8377f33af9953c3e7684534a50.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:title" content="1. The notification server"><meta property="og:description" content="So, we&rsquo;re about to begin this journey. Before discussing how to implement a notification server, I should probably explain first what we are trying to build. That is what is a notification server?
Everyone has their own viewpoint on this, and here I will describe my own. A notification server is a box which consists of components which are linked to each other. It could be thought of as an engine, where each component is thought as a gear in the engine&rsquo;s gearbox."><meta property="og:type" content="article"><meta property="og:url" content="http://onthemoon.net/post/2020-07-11/"><meta property="article:published_time" content="2020-07-11T12:27:58-04:00"><meta property="article:modified_time" content="2020-07-11T12:27:58-04:00"><meta itemprop=name content="1. The notification server"><meta itemprop=description content="So, we&rsquo;re about to begin this journey. Before discussing how to implement a notification server, I should probably explain first what we are trying to build. That is what is a notification server?
Everyone has their own viewpoint on this, and here I will describe my own. A notification server is a box which consists of components which are linked to each other. It could be thought of as an engine, where each component is thought as a gear in the engine&rsquo;s gearbox."><meta itemprop=datePublished content="2020-07-11T12:27:58-04:00"><meta itemprop=dateModified content="2020-07-11T12:27:58-04:00"><meta itemprop=wordCount content="782"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="1. The notification server"><meta name=twitter:description content="So, we&rsquo;re about to begin this journey. Before discussing how to implement a notification server, I should probably explain first what we are trying to build. That is what is a notification server?
Everyone has their own viewpoint on this, and here I will describe my own. A notification server is a box which consists of components which are linked to each other. It could be thought of as an engine, where each component is thought as a gear in the engine&rsquo;s gearbox."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>On the moon</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>On the moon</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>1. The notification server</h1><div class=post-meta><span class=post-time>2020-07-11</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents></nav></div></div><div class=post-content><p>So, we&rsquo;re about to begin this journey. Before discussing how to implement a notification server, I should probably explain first what we are trying to build. That is <em>what is a notification server?</em></p><p>Everyone has their own viewpoint on this, and here I will describe my own. A <strong>notification server</strong> is a box which consists of <strong>components</strong> which are linked to each other. It could be thought of as an engine, where each component is thought as a gear in the engine&rsquo;s gearbox. A component may be linked to other components, and it may be not linked to any component at all. The link is directed, so if one component is linked to another, then the other component is usually not linked to the first one. We say that component A is linked to component B if there is a directed link beginning at A which ends at B. We say that component A is a component linking to component B in this case. In terms of math models, we just described a structure of a <a href=https://en.wikipedia.org/wiki/Directed_graph>directed graph</a>, where our nodes are called components. Our graphs actually allow multiple edges between nodes (a <a href=https://en.wikipedia.org/wiki/Multigraph#Directed_multigraph_(edges_with_own_identity)>directed multigraph</a>), but we will get back to this in a later post, and you can forget about the multiple edges for now.</p><p>A component should be thought of as a single processor unit. Components should do a single thing and do it well. Data flows between the components of the server based on the components&rsquo; links. The data is referred to as an <strong>event</strong>. We refer to the structure of components links as <em>the pipeline</em> or <em>the graph</em> of the server. We can divide components into three types, based on their link support:</p><ul><li><strong>Source components</strong> are components that can not have any components linking to them. These components are expected to produce events which will be consumed by the components linked after them.</li><li><strong>Target components</strong> are components that can not have any linked to them. These components are expected to consume events and not to produce any further events.</li><li><strong>Transform components</strong> are components that can have both components linking to them and linked to them. These components are expected to consume events and to produce other events.</li></ul><p>I should mention that a component of certain type may appear multiple times in a server (i.e., multiple instances of the component appear in the server), and therefore we can not tell the type of a component just by looking at the graph of the server.</p><p>It is customary to divide components into three categories, although not all components fall under these categories:</p><ul><li><strong>Listeners</strong>: a listener is a component that listens to some external source and produces events for the components linked to it. A listener is a <em>source component</em>. An example for a listener could be a component that checks whether a file system directory has changed and produces events according to that. The events produced by the listener in the example may vary according to implementation: they may contain the name of the file that was changed in the directory, or they may contain no data, but just indicate that the directory has changed.</li><li><strong>Dispatchers</strong>: a dispatcher is a component that receives events from a component linking to it and publishes these events to an external target. A dispatcher is a <em>target component</em>. An example for a dispatcher could be a component that receives events and creates corresponding files in a file system directory.</li><li><strong>Logics</strong>: a logic is a component that receives an event from a component linking to it, maps it to a different event using a transform function, and produces the mapped event to the components linked to it. A logic is a <em>transform component</em>. An example for a logic that receives events from the file system directory listener above, is a component that creates a new event consisting of the name of the file that was changed and its file size.</li></ul><p>An example for a component that doesn&rsquo;t really fit into any of the above three categories is the <strong>timer</strong> component, which publishes an event every certain amount of time. The timer is a <em>source component</em>.</p><p>The notification server is a framework that allows one to write these sorts of components, host them in a server, and run the server. It allows components to run asynchronously, that means that components can run in parallel, without interfering with each other. The concept of what described above is known and is referred to as <a href=https://en.wikipedia.org/wiki/Dataflow_programming>Dataflow programming</a> or <a href=https://en.wikipedia.org/wiki/Flow-based_programming>Flow-based programming</a>, and there are many implementations known, such as <a href=https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/dataflow-task-parallel-library>TPL Dataflow</a>. We will explore the current implementation of the notification server and try to compare it with other existing solutions.</p></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>זלינגר</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2020-07-11</span></p></div><footer class=post-footer><nav class=post-nav><a class=prev href=/post/2020-07-15/><i class="iconfont icon-left"></i><span class="prev-text nav-default">2. Fractal processing server example - part 1</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/post/2020-07-08/><span class="next-text nav-default">ConsoleHost.Run(args)</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=social-links><a href=http://onthemoon.net/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2020
<span class=heart><i class="iconfont icon-heart"></i></span><span class=author>זלינגר</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js></script></body></html>